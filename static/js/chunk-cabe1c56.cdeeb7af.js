(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cabe1c56"],{"0e15b":function(e,t,n){},"3fae":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("b775");function i(e){return Object(a["a"])({url:"changenotice/post-changenotice",method:"post",data:e})}function o(e){return Object(a["a"])({url:"changenotice/post-changenotice-review?cid="+e.cid+"&isAgree="+e.isAgree,method:"post"})}function r(e){return Object(a["a"])({url:"changenotice/post-changenotice-approval?cnid="+e.cid+"&isAgree="+e.isAgree,method:"post"})}function c(e){return Object(a["a"])({url:"changenotice/get-changenotice",method:"post",filter:e})}},"6a80":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("b-card",{staticClass:"overflow",attrs:{title:"Change Notice for your Approval"}},[n("b-table",{staticClass:"overflow",attrs:{items:e.forReview,fields:e.fields},scopedSlots:e._u([{key:"cell(Actions)",fn:function(t){return[n("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"success"},on:{click:function(n){return e.postApproval(t.item,1)}}},[e._v("Agree")]),e._v(" "),n("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"danger"},on:{click:function(n){return e.postApproval(t.item,0)}}},[e._v("Disagree")])]}}])})],1)],1)},i=[],o=(n("ac6a"),n("28a5"),n("a481"),n("c24f")),r=n("3fae"),c=(n("5c96"),{data:function(){return{query:{},forReview:[],loading:!1,fields:[{key:"initiatorname",label:"Initiator"},{key:"type",label:"Type of Change"},{key:"nature",label:"Nature of Change"},{key:"description",label:"Description"},{key:"brancode",label:"Branch"},{key:"deptname",label:"Department"},"Actions"]}},created:function(){var e={},t=window.location.href.replace("%40","@"),n=t.split("?")[1],a=n.split("&");a.forEach((function(t){e[t.split("=")[0]]=t.split("=")[1]})),this.query=e,this.getCNData()},methods:{getCNData:function(){var e=this;e.loading=!0,Object(o["e"])(e.query).then((function(t){"Authentication failed!"==t.data?alert("Error on retrieving  data. Expired/Used Link"):e.forReview=t.data,e.loading=!1})).catch((function(t){alert("Unable to connect to database of reviewers!("+t+")"),e.loading=!1}))},postApproval:function(e,t){var n=this;n.loading=!0,Object(r["c"])({cnid:e.cid,isAgree:t}).then((function(e){n.forReview=[],alert("Successfully saved!"),n.loading=!1})).catch((function(e){alert("Unable to connect to database of reviewers!("+e+")"),n.loading=!1}))}}}),s=c,l=(n("b488"),n("2877")),u=Object(l["a"])(s,a,i,!1,null,"24a05c08",null);t["default"]=u.exports},b488:function(e,t,n){"use strict";var a=n("0e15b"),i=n.n(a);i.a}}]);